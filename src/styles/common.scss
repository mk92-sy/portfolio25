@forward './font';
@forward './mixin';
@forward './reset';
@forward './variables';
@forward './animation';
@forward './layout';

@use './mixin' as *;

html {
  font-size: 10px;
}

html,body{
  width:100%;
  height:100%;
}

body {
  background-color: var(--color-bg-01);
  color: var(--color-txt);
  font-family: 'Pretendard', sans-serif;
  font-size: 1.6rem;
}

#root{
  position: relative;
  width:100%;
  height:auto;
  min-height: 100svh;
}

a, button{
  cursor: pointer;
  &:focus-visible{
    outline:2px solid var(--color-bg-10);
    outline-offset: 3px;
  }
}

p {
  line-height: 1.5;
  color: var(--color-bg-09);
  font-weight: 300;
}

.contents {
  width:100%;
  height: 100%;
  min-height: 100svh;
}

.inner{
  max-width: 100rem;
  margin:0 auto;
}

.card{
  background-color: var(--color-bg-00);
  padding:2.8rem 2.2rem;
  overflow: hidden;
  &:first-child{
    margin-top:0;
  }
  & + &{
    margin-top:2rem;
  }
  border-radius: 3rem;
}

h {
  &1 {
    font-size: var(--font-size-H1);
  }

  &2 {
    font-size: var(--font-size-H2);
  }

  &3 {
    font-size: var(--font-size-H3);
  }

  &4 {
    font-size: var(--font-size-H4);
  }

  &5 {
    font-size: var(--font-size-H5);
  }

  &6 {
    font-size: var(--font-size-H6, 1.8rem);
  }
}
.flex{
  &-between{
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  &-center{
    display: flex;
    justify-content: center;
    align-items: center;
  }
}
.main-container{
  z-index: 2;
  width:calc(100% - 4rem);
  max-width: 100rem;
  margin:0 auto;
  padding-bottom: 6rem;
  .navigation-tabs{
    position: sticky;
    top:7rem;
    left:0;
    z-index: 0;
    display: flex;
    width:100%;
    background-color: var(--color-bg-01);
    gap:0.4rem;
    z-index: 2;
    &::after{
      position: absolute;
      bottom:0;
      left:0;
      z-index: -1;
      width: 40%;
      height: 100%;
      border-radius: 1rem;
      background-color:var(--color-primary);
      content: '';
      transition: transform 0.2s ease;
      will-change: transform;
    }
    .tab-item{
      position: relative;
      width:20%;
      transition: transform 0.3s ease-in-out;
      border-radius: 1rem;
      button{
        z-index: 1;
        display: flex;
        width:100%;
        height:4.4rem;
        @include tablet{
          height:5rem;
        }
        font-size: 1.3rem;
        text-align: center;
        letter-spacing: -0.1px;
        justify-content: center;
        align-items: center;
        gap:0.3rem;
        .tab-icon{
          width:2.4rem;
          height:2.4rem;
          background-color: var(--color-bg-10);
          mask-repeat: no-repeat;
          mask-position: center;
          mask-size: 2.4rem auto;
          &.resume{
            mask-image: url(../assets/icons/icon_s64_resume.svg);
          }
          &.about{
            mask-image: url(../assets/icons/icon_s64_about.svg);
          }
          &.works{
            mask-image: url(../assets/icons/icon_s64_works.svg);
          }
          &.contact{
            mask-image: url(../assets/icons/icon_s64_contact.svg);
          }
        }
        .tab-label{
          display: none;
          font-size: 1.6rem;
        }
        @include tablet{
          .tab-label{
            display: block;
            font-size: 1.8rem;
          }
        }
      }
      &.active{
       width:40%;
       border-radius: 1rem;
       background-color:var(--color-primary);
       color:#fff;
       flex:0 0 auto;
       .tab-label{
        display: block;
       }
       .tab-icon{
        background-color: #fff;
       }
      }
    }
    &:has(.tab-item:nth-child(1).active){
      &::after{
        transform: translateX(0);
      }
    }
    &:has(.tab-item:nth-child(2).active){
      &::after{
        transform: translateX(50%);
      }
    } 
    &:has(.tab-item:nth-child(3).active){
      &::after{
        transform: translateX(100%);
      }
    } 
    &:has(.tab-item:nth-child(4).active){
      &::after{
        transform: translateX(150%);
      }
    }
    & + .content-area{
      margin-top:2rem;
    }
  }
  .content-area{
    z-index: 1;
    overflow-y:auto;
    width:100%;
  }
}

@include desktop {

  .main-container .navigation-tabs .tab-item{
    button{
      font-size: 1.6rem;
    }
  }    
}

.typewriter {
  --caret: currentcolor;
  font-size: 135%;
  font-weight: 700;
}

.typewriter::before {
  content: "";
  animation: typing 13.5s infinite;
}

.typewriter::after {
  border-right: 1px solid var(--caret);
  content: "";
  animation: blink 0.5s linear infinite;
}

.typewriter.thick::after {
  border-right: 1ch solid var(--caret);
}

.typewriter.nocaret::after {
  border-right: 0;
}

.floating-menu{
  position: fixed;
  top:1.3rem;
  right:2rem;
  height: 2.4rem;
  z-index: 99;
  .config-btn{
    position: relative;
    overflow: hidden;
    width:2.4rem;
    height:2.4rem;
    z-index: 2;
    background-color: var(--color-bg-00);
    padding:1rem;
    border-radius: 50%;
    border:1px solid var(--color-bg-05);
    svg{
      transition: all .3s ease-in-out;
      transform: rotate(0deg) translateZ(0);
      transform-origin: center center;
      backface-visibility: hidden;
      transition: transform .3s linear;
      path{
        fill:var(--color-bg-06);
        transition: fill .3s linear;
      }
    }
    &.active{
      svg{
        transform: rotate(180deg) translateZ(0);
        path{
          fill:var(--color-bg-10)
        }
      } 
    }
  }
  .menu-title{
    font-size: 1.4rem;
  }
  .menu-dropdown{
    position: absolute;
    right: 0;
    top:2rem;
    display: flex;
    flex-direction: column;
    padding:1rem;
    gap:0.8rem;
    border-radius: 3rem;
    background-color: var(--color-bg-02);
    box-shadow: 0 .3rem 1.2rem 0 rgba(0, 45, 125, .161);
    transform: translateY(-10px);
    opacity: 0;
    transition: all .3s ease-out;
    will-change: transform;
    z-index: 1;
    pointer-events: none;
    border:1px solid var(--color-bg-06);
    &.active{
      transform: translateY(30px);
      opacity: 1;
      pointer-events:inherit;
    }
  }
}

.sub-title{
  display: block;
  padding-bottom: 1.6rem;
  border-bottom: 1px dotted var(--color-bg-03);
  font-size: 2rem;
}
.sub-txt{
  display: inline-block;
  margin-top:0.5rem;
  font-size: 1.4rem;
  font-weight: 300;
}
.career-box{
  .item{
    display: flex;
    gap:1rem;
    align-items: flex-start;
    flex-direction: column;
    padding:1.4rem 0;
    & + .item{
      border-top:1px dotted var(--color-bg-09);
    }
    @include tablet{
      flex-direction: row;
      justify-content: space-between;
      align-items: center;
    }
    &:only-child{
      padding-bottom: 0;
    }
  }
  &.stepper{
    position: relative;
    padding-left: 2rem;
    margin-top:1rem;
    margin-left: 1rem;
    .item{
      position: relative;
      border:0;
      background-color: var(--color-bg-01);
      padding:2rem;
      border-radius: 2rem;
      &::after{
        content: '';
        position: absolute;
        left:-2.5rem;
        top:calc(50% - 0.5rem);
        width:1rem;
        height: 1rem;
        border-radius: 50%;
        background-color: var(--color-bg-03);
      }
      & + .item{
        margin-top:1.6rem;
      }
      &:first-child::after{
        width:2rem;
        height: 2rem;
        left:-3rem;
        top:calc(50% - 1rem);
        background-color: var(--color-bg-00);
        border:3px solid var(--color-primary);
        z-index: 1;
      }
      dt{
        font-weight: 700;
      }
      dd{
        font-weight: 300;
        font-size: 1.4rem;
        @include tablet{
          text-align: right;
        }
      }
    }
    &::after{
      content: '';
      position: absolute;
      left:-0.1rem;
      @include tablet{
        top:3.6rem;
      }
      top:0;
      width:0.2rem;
      height: 100%;
      background-color: var(--color-bg-03);
    }
  }
}

.skill-box{
  h4{
    padding:1.6rem 0 1rem;
    color:var(--color-bg-08);
    font-size: 1.5rem;
    font-weight: 500;
  }
}
.badge-box{
  display: flex;
  flex-wrap: wrap;
  justify-content: flex-start;
  align-items: flex-start;
  gap:0.5rem;
}
.view-select{
  display: flex;
  justify-content: flex-end;
  gap:1rem;
  .type{
    display: flex;
    justify-content: center;
    align-items: center;
    width: 4rem;
    height: 4rem;
    border-radius: 0.6rem;
    background-color: var(--color-bg-02);
    color: var(--color-txt);
    transition: all 0.2s ease;
    cursor: pointer;
    
    &:hover {
      background-color: var(--color-bg-08);
    }
    
    &.active {
      background-color: var(--color-bg-10);
      color: var(--color-bg-00);
    }
    
    svg {
      width: 20px;
      height: 20px;
    }
  }
}
.list-box{
  margin-top:2rem;
  .card{
    padding:0;
    overflow: hidden;
    background-color: var(--color-bg-00);
    
  }
  .thumnail-area{
    background-color: var(--color-bg-03);
    border-radius: 1.8rem;
    overflow: hidden;
    width: 100%;
    img{
      min-height:100%;
      object-fit: cover;
    }
  }
  &.list-view{
    .card{
      display: flex;
      width:100%;
      min-height: 12rem;
      flex-direction: row;
      gap:1rem;
      box-sizing: border-box;
      border-radius: 2rem;
      .thumnail-area{
        width:10rem;
        height: 10rem;
        margin:1rem;
        min-width: 10rem;
        display: flex;
        align-items: center;
        justify-content: center;
        img{
          min-height: 100%;
        }
      }
      .info-area{
        padding:2rem 2rem 2rem 0;
        &:only-child{
          padding-left: 2rem;
        }
      }
      & + .card{
        margin-top: 1.6rem;
      }
    }
  }
  &.grid-view{
    display: flex;
    flex-wrap: wrap;
    gap:2rem;
    .card{
      display: flex;
      width: 100%;
      height: auto;
      flex-direction: column;
      justify-content: flex-start;
      gap:2rem;
      box-sizing: border-box;
      .thumnail-area{
        border-radius: 2rem 2rem 0 0;
        height: 50vw;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .info-area{
        padding:0 2rem 2.4rem;
        &:only-child{
          padding:2.4rem 2rem;
        }
      }
      & + .card, &:first-child{
        margin:0;
      }
      
    }
    
    // 태블릿 뷰 (2개씩)
    @include tablet {
      .card {
        width: calc((100% - 2rem) / 2);
        .thumnail-area {
          height: 15rem;
        }
      }
    }
    
    // 데스크탑 뷰 (3개씩)
    @include desktop {
      .card {
        width: calc((100% - 4rem) / 3);
        .thumnail-area {
          height: 12rem;
        }
      }
    }
  }
  .thumnail-area{
    border-radius: 1rem;
  }
  .info-area{
      display: flex;
      flex-direction: column;
      gap:0.4rem;
      
      .title{
        font-size: 1.7rem;
      }
      .description{
        font-size: 1.4rem;
      }
      .title, .description{
        line-height: 1.2;
        display: -webkit-box;              /* 플렉스 박스처럼 동작 */
        -webkit-box-orient: vertical;      /* 수직 방향으로 정렬 */
        -webkit-line-clamp: 2;             /* 최대 줄 수 지정 */
        overflow: hidden;                  /* 넘치는 텍스트 숨김 */
        text-overflow: ellipsis;          /* 말줄임표 (…) 표시 */
        word-break: break-word;  
      }
    }
}

.card .btn-area{
  display: flex;
  justify-content: space-between;
  gap:1rem;
  .btn{
    flex:1;
    padding:1.6rem 2rem;
    text-align: center;
    background-color: var(--color-bg-03);
    cursor: pointer;
    border-radius: 1rem;
    &:nth-child(1), &:last-child{
      flex:0 0 auto;
    }
  }
}

.contact-btns{
  display: flex;
  gap:1rem;
  flex-wrap: wrap;
  .btn{
    position: relative;
    width:fit-content;
    height:4rem;
    padding:0 4rem 0 1rem;
    border-radius: 0.6rem;
    outline: none;
    background-color: var(--color-bg-01);
    &::after{
      position: absolute;
      top:calc(50% - 1.2rem);
      right:0.8rem;
      width:2.4rem;
      height:2.4rem;
      background-color: var(--color-bg-10);
      content: '';
      mask-repeat: no-repeat;
      mask-position: center;
      mask-size:auto 2.4rem;
    }
    &:focus-visible{
      box-shadow:0 0 0 2px inset var(--color-bg-10);
    }
    &.github{
      &::after{
        mask-image: url(../assets/icons/icon_s64_github.svg);
      }
    }
    &.call{
      &::after{
        mask-image: url(../assets/icons/icon_s64_call.svg);
      }
    }
    &.blog{
      &::after{
        mask-image: url(../assets/icons/icon_s64_blog.svg);
      }
    }
  }
}

input, textarea{
  width:100%;
  padding:1.3rem 1.6rem;
  border:0;
  border-radius: 0.6rem;
  background-color: transparent;
  color:var(--color-bg-10);
  line-height: 1.3;
  box-shadow:0 0 0 1px inset var(--color-bg-08);
  &:focus-visible{
    outline:none;
    outline-offset: 0;
    box-shadow:0 0 0 2px inset var(--color-bg-10);
  }
}

.mailto-box{
  display: flex;
  flex-direction: column;
  gap:1rem;
  input, textarea{
    background-color: var(--color-bg-01);
    border:0;
    box-shadow: none;
    &:focus{
      box-shadow:0 0 0 2px inset var(--color-bg-08);
    }
  }
  textarea{
    min-height: 20rem;
    resize: none;
  }
  label{
    font-weight: 700;
  }
  .btn{
    min-height: 5rem;
    margin-top:1rem;
    border-radius: 0.6rem;
    text-align: center;
    background-color:  var(--color-primary);
    color:#fff;
  }
  .length{
    display: flex;
    justify-content: flex-end;
    margin-top:0.6rem;
    font-size: 1.3rem;
    letter-spacing: -0.5px;
    color:var(--color-bg-05)
  }
}

// 페이지네이션 스타일
.pagination {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 1rem;
  margin-top: 3rem;
  
  .page-btn {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 4rem;
    height: 4rem;
    border-radius: 0.6rem;
    background-color: var(--color-bg-02);
    color: var(--color-txt);
    font-size: 1.4rem;
    font-weight: 500;
    transition: all 0.2s ease;
    cursor: pointer;
    
    &:hover:not(:disabled) {
      background-color: var(--color-bg-08);
    }
    
    &:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    
    &.active {
      background-color: var(--color-bg-10);
      color: var(--color-bg-00);
    }
    
    &.prev,
    &.next {
      font-size: 1.6rem;
      font-weight: 700;
    }
  }
  
  .page-numbers {
    display: flex;
    gap: 0.5rem;
  }
}

[darkmode='true'] .main-container .navigation-tabs .tab-item.active .tab-icon{
  background-color: #fff;
}